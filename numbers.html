<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <link rel="stylesheet" type="text/css" href="css/number/number.css" />
    </head>
    <body>
        <div class="numbers" id="big"></div>
        <br />
        <div class="numbers-small"></div>
        <div class="numbers-small"></div>
        <div class="numbers-small"></div>
        <div class="numbers-small"></div>
        <div class="numbers-small"></div>
        
        <input id="n1"/>
        
        <button id="go1">
            Go
        </button>

        <script src="js/lib/jquery-1.11.1.js" type="text/javascript"></script>
        <script src="js/lib/jquery-ui.js" type="text/javascript"></script>
        <script src="js/jquery.numbers.js" type="text/javascript"></script>
        <div>supported charts :￥ and ,and . and nubmers</div>
        <script type="text/javascript">
            $(function() {
                $('.numbers').numbers({
                    rootClass: "numbers",
                    numberH: 50,
                    speed: 1500,
                    totalSize: 15, // all size including charts
                    numberSize: 10, // max number of box displayed, in order to keep a fixed size
                    value: "￥56,789.12"
                });
                
                $('.numbers-small').numbers({
                    rootClass: "numbers numbers-small",
                    totalSize: 15,
                    numberSize: 10, 
                    numberH: 41,
                    speed: 3000,
                    value: "￥56,789.12"
                });
                
                var n = 0;
                var a = setInterval(function() {
                    // n++;
                    // if(n == 10) {
                        // clearInterval(a);
                    // }
                    var x;
                    var y = (Math.random() * 10);
                    if(y > 5) {
                        x = (Math.random() * Math.pow(10,y)).toFixed(2);
                    } else {
                        x = (Math.random() * Math.pow(10,y)).toFixed(0);
                    }
                    x = "￥" + String(x).replace(/\d{1,3}(?=(\d{3})+(\.\d*)?$)/g, '$&,');
                    
                    console.log(x);
                    $(':qbao-numbers').not('#big').numbers("setValue", x);
                }, 3000);
                
                var b = setInterval(function() {
                    var x = (Math.random() * 10000).toFixed(2);
                    x = "￥" + String(x).replace(/\d{1,3}(?=(\d{3})+(\.\d*)?$)/g, '$&,');
                    
                    console.log("big: " + x);
                    $('#big').numbers("setValue", x);
                }, 3000);
            });
            
            $('#go1').click(function() {
                $(':qbao-numbers').numbers("setValue", $('#n1').val());
            });
            
        </script>
</html>